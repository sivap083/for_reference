provider "aws
resource "aws_vpc" "myvpc" 
resource "aws_subnet" "pubsub"
resource "aws_subnet" "privsub"
resource "aws_internet_gateway" "tigw"
resource "aws_route_table" "pubrt"
resource "aws_route_table_association" "pubassociation"
resource "aws_eip" "eip"
resource "aws_nat_gateway" "tnat"
resource "aws_route_table" "privrt"
resource "aws_route_table_association" "privassociation"
resource "aws_security_group" "allow_all"
resource "aws_instance" "publicmachine" 
resource "aws_instance" "private"